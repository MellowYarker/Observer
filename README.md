# Observer - a Bitcoin address generator

There are 2 fundamental parts of this program, the first part (mostly working) is a fast address generator, the second part (not written yet) will watch the Bitcoin network to see if any addresses in Observer's database (i.e *addresses you control*) have or have had funds in them.

## WARNING
**Do not** send bitcoin to addresses generated by this software **unless** the seeds you supply the generator with are sufficiently random *and* you know what you're doing. See [why randomness matters](https://blog.cloudflare.com/why-randomness-matters/).

This software is intended to take non-random and/or badly generated random seeds to see if bitcoin has been sent to weak addresses.

### How does it work?
The program reads "seeds" from a text file (check out src/100kseeds.txt for some examples), turns them into private keys (by padding them with 0's), then generates the P2PKH, P2SH_P2WPKH, and P2WPKH that can be derived from the private keys. The results are stored in an sqlite3 database, and the private key is added to a bloom filter.

The textfile of seeds should be in the following format

    password
    123456
    hello123

When given a string, for example, "*password*", two 32 char private keys will be generated: 

    000...00password
    password00...000

This software depends on [libbtc](https://github.com/libbtc/libbtc) (Bitcoin library written in C) and [libbloom](https://github.com/jvirkki/libbloom) (C implementation of a bloom filter), they've both been added to this repo as git subtrees.

### Coming soon
+ Key generation is pretty fast (over 30k address sets/second with room for improvement), but writing to the database has been a bottleneck I've been planning on checking out.
+ Additionally, I'd like to add a few more ways to turn seeds into private keys, for example using sha256 on a seed.

## Build
```bash
sh configure.sh
cd src
make
```
The configure script will take some time since it configures and compiles 3 libraries.
Check the Makefile in src for more compile options.

## Usage
./gen_keys (quantity of seeds to read) (input file)

```bash
./gen_keys 3000 100kseeds.txt
```

Key sets are stored in an sqlite3 table, here's a quick example of querying the database.
```bash
$ cd db
$ sqlite3 observer.db
SQLite version 3.16.0 2016-11-04 19:09:39
Enter ".help" for usage hints.
sqlite> .mode columns
sqlite> .headers on
sqlite> select * from keys where seed like 'password';
privkey                           seed        P2PKH                               P2SH                                P2WPKH
--------------------------------  ----------  ----------------------------------  ----------------------------------  ------------------------------------------
000000000000000000000000password  password    194Gw5oZnHWNoC1eg2EJSpkYPqT55fmT8L  3DGDdvVL49bZreL8r59ZdBF8nSV1kqT3Nv  bc1qtp0cmn9ug0pyz8ncky8uew2rtvv37a4z2y5nn6
password000000000000000000000000  password    1U44rmtsDPjV1CsrZ9JXh3WFLUTkFD99E   3C5EdoQzkF7N1ESMKpQGZFVirftx9DCKo7  bc1qq5wu5ml0xe7djvha6y00sz8qxunwlxw6glkudg
```

Relevant project structure

    Observer
    ├── src
    ├── db
    ├── libbtc
    │   └── libbtc.pc (used to find where libbtc lib was installed)
    ├── libbloom
        └── build
            └── libbloom.a (libbloom static lib)
